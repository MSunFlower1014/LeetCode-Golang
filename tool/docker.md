# Docker
容器技术的核心功能，就是通过约束和修改进程的动态表现，从而为其创造出一个“边界”。  
对于 Docker 等大多数 Linux 容器来说，  
Cgroups 技术是用来制造约束的主要手段，  
而 Namespace 技术则是用来修改进程视图的主要方法。  

## 环境隔离-NameSpace
包含 PID-NameSpace 隔离进程id信息
Mount-Namespace 隔离挂载点信息
NetWork-namespace 隔离网络设备和配置


## 资源限制-Linux Control Group
Linux Cgroups 的全称是 Linux Control Group。它最主要的作用，就是限制一个进程组能够使用的资源上限，包括 CPU、内存、磁盘、网络带宽等等。


## docker exec
一个进程，可以选择加入到某个进程已有的 Namespace 当中，从而达到“进入”这个进程所在容器的目的，这正是 docker exec 的实现原理。

## k8s的pod
抽象管理节点概念，支持单容器或多容器编排，并为多个容器提供组概念简化维护    
利于容器之间的组合，管理编排和资源共享  

## docker的不足
隔离不彻底，既然容器只是运行在宿主机上的一种特殊的进程，那么多个容器之间使用的就还是同一个宿主机的操作系统内核，容器可能被其他容器做出的修改影响。    



## 为什么单一容器最好只运行单个程序？
容器是一个“单进程”模型，只有pid为1的进程才会被docker管理和监控，多个进程会无法决出容器状态以谁为准，不利于管理和调度  