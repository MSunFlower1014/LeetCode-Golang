## Kafka
topic-分区-消息

### 快的原因
* 1.通过零拷贝加快数据处理熟读  
* 2.数据批量处理  
* 3.分区提升数据吞吐量  
* 4.顺序写

### 保证消息的幂等
生产者消息 设置acks>0,等待从节点提交完成后主节点再完成提交，保证消息不丢失  
消费者禁用自动提交，手动提交offset，通过callback适当改变消费记录  
brocker主从同步


